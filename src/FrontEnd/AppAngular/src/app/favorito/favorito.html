<div class="container main-container">
  <!-- Lista de favoritos -->
  @if(favoritos && favoritos.length > 0){
  <div class="row text-center">
    @for (favorito of favoritos; track $index) {
    <div class="col-md-4" style="padding-bottom: 30px">
      <div class="card h-100">
        <a
          class="text-decoration-none"
          [routerLink]="['/produtos/detalhe', favorito.produtoId]"
        >
          <div style="align-content: center">
            <img
              src="/assets/{{ favorito?.produto?.imagem }}"
              height="164px"
              width="253px"
              alt=""
            />
          </div>
        </a>
        <h4 class="card-title">
          <a [routerLink]="['/produtos/detalhe', favorito.produtoId]">{{
            favorito?.produto?.nome | titlecase
          }}</a>
        </h4>

        <div class="card-body">
          <p class="card-text">{{ favorito?.produto?.descricao }}</p>
          <div>
            <h4>
              {{
                favorito.produto.preco
                  | currency : "BRL" : "symbol" : "1.2-2" : "pt"
              }}
            </h4>
          </div>
          <p class="card-text">
            Unidades: {{ favorito?.produto?.estoque }} <br />
            Categoria: {{ favorito?.produto?.categoria?.nome }}
          </p>
        </div>

        <div class="card-footer">
          <button
            class="btn btn-light"
            (click)="removeFavorito(favorito.produto)"
            aria-label="Favoritar"
          >
            <i class="bi bi-heart-fill text-danger"></i>
          </button>
          <!-- <a class="btn btn-primary" [routerLink]="['/carrinho',produto.id]">
                        <span class="fa fa-shopping-cart"></span> Comprar
                    </a> -->
        </div>
      </div>
    </div>
    }
  </div>

  }@else {
  <!-- Estado vazio -->
  <div class="text-center my-5">
    <h4>Você ainda não tem favoritos</h4>
    <p>Adicione produtos aos seus favoritos para vê-los aqui.</p>
    <a routerLink="/home" class="btn btn-primary"> Ver produtos </a>
  </div>
  }
</div>
